<html>
<body>

<h4>SHOT/SKETCH PHOTO</h4>

<div style="font-size=90%">
This dialog is opened from the <i>Photo</i> button in the secondary <i>Shot edit</i> dialog, or when a "photo" point
or a photo xsection are inserted
in the <u>sketch window</u>.<br><p>

There is a text field for the <b>comment</b> to the photo you are going to take,
and a checkbox for the choice of the camera implementation.<br><p>

Buttons:
<ul>
<li><b>OK</b> closes the dialog and starts to take a photo.</li>
<li><b>Cancel</b> closes the dialog.</li>
</ul><br><p>

TopoDroid contains a simple implementation of a camera. 
Its unique feature is that it stores the azimuth and inclination of the device in exif tags in the image file. 
The azimuth is stored as GPS_LONGITUDE and the inclination as GPS_LATITUDE (with sign).
<br>
The following exif tags are set by TopoDroid:
<ul>
<li><i>Software</i>: "TopoDroid" and its version, separated by a space [Android 7 and up]</li>
<li><i>Orientation</i></li>
<li><i>Datatime</i> [yyyy.MM.dd]</li>
<li><i>GPS latitude</i>: inclination [1/100&deg;]</li>
<li><i>GPS latitude ref</i>: "N" or "S"</li>
<li><i>GPS longitude</i>: azimuth [1/100&deg;]</li>
<li><i>GPS longitude ref</i>: "E"</li>
<li><i>Image description</i>: azimuth and inclination in 1/100&deg;, separated by a space</li>
</ul>
<br><p>

For "photo" point or photo xsection the display of the TopoDroid camera has a centered overlaid cross-hair.<br><p>

TopoDroid uses Android sensors to get the direction (azimuth and clino). 
A warning is displayed if the sensor accuracy is low or there is a sensor failure.<br><p>

The TopoDroid camera has three buttons on the lower right.
<ul>
<li><b>camera</b>. Red: ready, tap to take a picture. Blue: on hold, tap to turn camera active.</li>
<li><b>save</b> saves the picture. Grayed until a picture has been taken.</li>
<li><b>back</b> closes the window without saving the picture.</li>
</ul>

With the screen up the picture is portrait.
When the screen is turned to the left or to the right the picture is landscape.<br><p>

Zoom buttons are brought up by tapping the screen in the mid-bottom.
To go through large zoom steps tap the zoom buttons repeatedly fast.<br><p>

<b>Camera implementation</b><br>
TopoDroid has two camera implementations: the first uses the old Android camera API,
the second uses the new Android camera2 API.<br>
The default is the old camera.<br><p>

With the new camera2 API there is a limit of five attempts of picture capture,
after which the <i>camera</i> button is no longer available.<br><p>

A warning is displayed, if the JPEG image saving fails.<br><p> 

</div><br><p>

</body>
</html>

