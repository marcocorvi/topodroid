<html><body>

<h4>AUTO-WALLS</h4>

<div style="font-size=90%">
At experimental level the <i>autowall</i> button is present in the shot edit dialog of the <u>sketch window</u>.<br><p>

Auto-walls is a technique to quickly get a rough map of a simple cave, consisting only of the walls outline.
It is not a substitute for a good sketch of the cave.
<br><p>

A better result can be obtained with the 3D model reconstruction, provided you have a dense set of splay points.
Project the outline on the horizontal plane for the plan view, and slice a vertical profile curtain for the profile view.
<br><p>

With auto-walls you tell TopoDroid to draw walls to the right and left of a shots interpolating through the end-points of the splays. You must choose an auto-wall mechanism through the settings.
At the moment there are two auto-wall algorithms: <i>convex</i> and <i>Delaunay</i>.<br><p>

For the <i>convex</i> walls, a polyline is traced connecting the outermost end-points of the splays. To create a wall there must be at least one splay end-point on the side of the shot. In this case, two wall lines are traced, one on each side of the shot, if possible.<br><p>

The <i>Delaunay</i> wall is based on a Delaunay triangulation of the splay endpoints (plus eight points "at infinity"), and the associated Voronoi cells. Each splay endpoint is associated to the farthest center of the cells it belongs to. From the cells at infinity a convex hull is build. This is then shrinked with the splay endpoints for which the associated center lies outside the hull. A single closed wall border is traced, usually containing the shot.<br><p>

Auto-walls applies to one shot at a time, and it does not take into account the nearby shots. Therefore it is likely that an auto-wall "enters" the nearby piece of gallery or misses it. You should then edit the auto wall adjusting for these drawbacks, i.e., inserting points for the missing pieces and deleting, or moving, points that fall in the nearby gallery.<br><p>

Through the settings you can specify the upper clino limit of the splays taken into account for walls in plan view, and the lower clino limit for profile view. Other settings let you pick the amount of allowed concavity, and the minimum distance [in m] between splay points on the wall.<br><p>

<ul style="margin-top:0; margin-bottom:0">
    <li><i>Walls type</i>: the type of auto-walls. Default is "none" (disabled).</li>
    <li><i>Splay plan threshold</i>: maximum inclination of splays used in auto-walls in the plan view.</li>
    <li><i>Splay profile threshold</i>: minimum inclination of splays used in auto-walls in the profile view.</li>
    <li><i>Point separation</i>: minimum separation of splay points along the shot direction. If two splays are closer than this value only the splay with largest distance from the shot is used.</li>
    <li><i>Point step</i>: maximum distance along the walls between two line-points. If a wall segment connecting two splays is too long it is splitted interpolating points in the between</li>
    <li><i>Concavity</i>: amount of accepted wall concavity.</li>
</ul><br><p>

<i>Warning</i><br>
If you draw auto-walls twice for the same shot you get two copies of the wall line(s).
<br><p>
</div>

</body></html>
